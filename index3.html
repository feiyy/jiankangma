<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=Df5kztZ3rOcLOonFN1rudtIxm6buhcdA"></script>
	</head>
	<body>
		
		<script>
			
			navigator.geolocation.getCurrentPosition((position) => {
			    let lat = position.coords.latitude;
			    let lng = position.coords.longitude;
				
				alert(lat+","+lng);
			    const pointBak = new BMap.Point(lng, lat);
			    const convertor = new BMap.Convertor();
			    convertor.translate([pointBak], 1, 5,function(resPoint) {
			        if(resPoint && resPoint.points && resPoint.points.length>0){

			            lng = resPoint.points[0].lng;
			            lat = resPoint.points[0].lat;
						
						alert(lat+","+lng);
			        }
			        const point = new BMap.Point(lng, lat);
			        const geo = new BMap.Geocoder();
					
			        geo.getLocation(point, (res) => {
						
						alert(JSON.stringify(res));
						var addComp = res.addressComponents;
						
						alert(res.addressComponents.surroundingPois[0].title);
			
			        });
			    });
			});
			
		</script>
	</body>
</html>
